<link rel="import" href="/pages/elements/post-post.html"/>
<link rel="import" href="/bower_components/polymer-jsonp/polymer-jsonp.html"/>
<link rel="import" href="/bower_components/polymer/polymer.html"/>

<link rel="import" href="/bower_components/gr-avatar/gr-avatar.html">

<polymer-element name="blogpost-element" attributes="pathArg1 queryParam1" noscript>

    <template>

        <style>
            @host { :scope {display: block;} }
        </style>

        <div class="row">

            <h1><a href="/">My Polymer Blog</a></h1>

            <app-route path="/#/user-profile/{{pathArg1}}" ></app-route>

            <h2>Posts</h2>

            <!-- Table of contents -->

            <ul>

                <template repeat="{{post in posts.feed.entry}}"> <!--parameter app routing -->

                    <li><a href="#/user-profile/{{post.gsx$slug.$t}}">{{post.gsx$title.$t}}</a></li>

                </template>

            </ul>

            <!-- Post content -->

            <template repeat="{{post in posts.feed.entry}}">

                <post-element post="{{post}}" selected="/user-profile/{{route}}"></post-element>

            </template>

        </div>

        <polymer-jsonp auto url="https://spreadsheets.google.com/feeds/list/0AhcraNy3sgspdHVQUGd2M2Q0MEZnRms3c3dDQWQ3V1E/od6/public/values?alt=json-in-script&callback=" response="{{posts}}"></polymer-jsonp>



    <script>

        $(document).ready(function() {
            console.log("ready");

        });

        Polymer("blog-element", {

            created: function() {},

            enteredView: function() { },

            leftView: function() { },

            attributeChanged: function(attrName, oldVal, newVal) { }

        });

    </script>

    </template>

</polymer-element>