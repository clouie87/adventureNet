<link type="text/css" rel="stylesheet" href="/styles/style.css" xmlns="http://www.w3.org/1999/html"/>
<link rel="import" href="/bower_components/polymer/polymer.html"/>
<link rel="import" href="/bower_components/app-router/app-router.html"/>
<link rel="import" href="/bower_components/paper-button/paper-button.html"/>
<link rel="import" href="/bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="/bower_components/paper-checkbox/paper-checkbox.html"/>
<link rel="import" href="/bower_components/paper-input/paper-input.html"/>
<link rel="import" href="/bower_components/paper-input/paper-input-decorator.html"/>
<link rel="import" href="/pages/elements/signin-element.html"/>


<script src="http://code.jquery.com/jquery-1.11.1.js"></script>

<polymer-element name="home-page" noscript>
    <template>
        <style>
            @font-face {
                font-family: awesome;
                src: url('/styles/font-awesome-4.2.0/fonts/fontawesome-webfont.ttf') format('truetype');
            }

            h1{
                color: white;
                font-family: 'Raleway', sans-serif;
                text-shadow: -2px 0 grey, 0 2px grey, 2px 0 grey, 0 -2px grey;
                font-weight: bold;
                margin-bottom:0;
            }

            h2{
                color: white;
                font-family: 'Raleway', sans-serif;
                text-shadow: -2px 0 grey, 0 2px grey, 2px 0 grey, 0 -2px grey;
                font-weight: lighter;
                font-size: 24px;

            }

            div.buffer {
                height: 200px;
            }


            p{
                margin-left: 2%;
                color: white;
                font-family: 'Raleway', sans-serif;
                font-size: 12px;
            }

            div.textContainer{
                border: 3px solid #636363;
                background-color: rgba(51, 51, 104, .6);
                /*width: 70%;*/
            }

            div#loginContainer{
                font-family: 'Raleway', sans-serif;
                color: white;
                /*border: 3px solid #636363;*/
                /*background-color: rgba(51, 51, 104, .6);*/
            }

            /*textarea{*/
            /*font-family: 'Raleway', sans-serif;*/
            /*color: white;*/
            /*}*/

            paper-input-decorator /deep/ .label-text
            paper-input-decorator /deep/ .error {
                /* inline label,  floating label, error message and error icon color when the input is unfocused */
                color: #A7FFEB;
                font-family: 'Raleway', sans-serif;
            }

            paper-input-decorator /deep/ .label-text,
            paper-input-decorator /deep/ .error {
                /* inline label,  floating label, error message and error icon color when the input is unfocused */
                color: white;
            }

            paper-input-decorator /deep/ ::-webkit-input-placeholder {
                /* platform specific rules for placeholder text */
                color: white;
                font-size: 14px;
            }
            paper-input-decorator /deep/ ::-moz-placeholder {
                color: white;
                font-size: 14px;

            }
            paper-input-decorator /deep/ :-ms-input-placeholder {
                color: white;
                font-size: 14px;
            }

            paper-input-decorator /deep/ .unfocused-underline {
                /* line color when the input is unfocused */
                background-color: white;
            }

            paper-input-decorator[focused] /deep/ .floating-label .label-text {
                /* floating label color when the input is focused */
                color: #A7FFEB;
                font-size: 10px;
            }

            paper-input-decorator /deep/ .focused-underline {
                /* line color when the input is focused */
                background-color: white;
            }

            paper-input-decorator /deep/ .cursor {
                /* cursor color during the focus transition */
                background-color: white;
            }

            paper-input-decorator.invalid[focused] /deep/ .floated-label .label-text,
            paper-input-decorator[focused] /deep/ .error {
                /* floating label, error message nad error icon color when the input is invalid and focused */
                color: white;
                font-size: 10px;

            }

            paper-input-decorator.invalid /deep/ .focused-underline,
            paper-input-decorator.invalid /deep/ .cursor {
                /* line and cursor color when the input is invalid and focused */
                background-color: white;
            }


            paper-input-decorator{
                /*border-right: 2px solid #A7FFEB;*/
                padding-left: 10px;
                padding-right: 10px;

            }


            paper-button#joinButton{
                border: 2px #A7FFEB solid;
                color: #A7FFEB;
                background-color: #00BFA5;
                font-size: 10pt;
                font-weight: bolder;
                height:35px;
            }

            paper-checkbox::shadow #checkbox.checked {
                border-color: white;
            }
            paper-checkbox::shadow #ink {
                color: #00BFA5;
            }
            paper-checkbox::shadow #checkbox {
                border-color: white;
            }
        </style>

        <div id="homeContainer">
            <!-- top margin -->
            <div class="buffer"></div>

            <!--the row across the page where the purple box lives-->
            <div horizontal layout center-center>
                <div flex two></div> <!--the buffer on the left side before the purple box-->

                <!--everything in the purple box-->

                <div class="textContainer" horizontal layout flex four center-center>
                    <!--<div class="divider" horizontal flex one></div>-->
                    <!--maybe want to move this to an element?-->
                    <div vertical layout flex six center-center self-stretch>
                        <div id="userContainer" self-stretch center-center>
                            <div horizontal layout class="title">
                                <div flex one></div>
                                <h1>Dive Into your next Exploration!</h1>
                                <div flex one></div>
                            </div>

                            <div id="loginContainer" horizontal layout center-center>
                                <form horizontal layout self-stretch center-center>
                                    <signin-element> </signin-element>

                                    <paper-input-decorator id="email" error= "Please enter a valid email address!" floatingLabel label="Email Address">
                                        <input is="core-input" id="usrEmail" type ="text" onblur="validateEmail()" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$">
                                    </paper-input-decorator>

                                    <paper-input-decorator  floatingLabel label="Password">
                                        <input is="core-input" id="password" type ="password" value = "{{password}}">
                                    </paper-input-decorator>

                                    <paper-input-decorator block id="username" floatingLabel label="Confirm Password" error= "Must match password!!">
                                        <input is="core-input" id="checkpswd" type ="password" onblur ="confirm()" pattern="{{password}}">
                                    </paper-input-decorator>


                                    <paper-button id="joinButton" onclick="join()" style="font-size: 10pt">DIVE IN</paper-button>

                                </form>
                            </div>
                        </div>
                        <div class="divider" horizontal flex one></div>
                    </div>
                    <!--<div class="divider" horizontal flex one></div>-->
                </div>
                <div flex two></div>
            </div>
        </div>


        <script>
            $(document).ready(function() {
                console.log("ready");
            });

            var showSignUp = function () {
                console.log('signup with us was clicked');
                document.querySelector('body /deep/ #username').removeAttribute('hidden');
                document.querySelector('body /deep/ #stayLogin').setAttribute('hidden', 'hidden');
                document.querySelector('body /deep/ #joinButton').removeAttribute('hidden');
                document.querySelector('body /deep/ #signInButton').setAttribute('hidden', 'hidden');

            };

            var showLogin = function () {
                console.log('Login was clicked');
                document.querySelector('body /deep/ #username').setAttribute('hidden', 'hidden');
                document.querySelector('body /deep/ #stayLogin').removeAttribute('hidden');
                document.querySelector('body /deep/ #signInButton').removeAttribute('hidden');
                document.querySelector('body /deep/ #joinButton').setAttribute('hidden', 'hidden');
            };

            var signIn = function () {
                console.log('signIn clicked');
                document.querySelector('app-router').go('/user-profile');

            };

            var join = function () {
                console.log('joined');
                document.querySelector('app-router').go('/user-profile');

            };

            function validateEmail() {
                var decorator = document.querySelector('body /deep/ #email');
                console.log("decorator", decorator);
                var input = document.querySelector('body /deep/ #usrEmail');
                console.log("input", input);

                decorator.isInvalid = !input.validity.valid;
            }

            function confirm() {
                var checkpswd = document.querySelector('body /deep/ #checkpswd');
                console.log("confirmation", checkpswd);

                var valid = document.querySelector('body /deep/ #username');
                console.log("valid", valid);

                valid.isInvalid = !checkpswd.validity.valid;
            }

            var paperInput = CoreStyle.g.
                    paperInput = CoreStyle.g.paperInput || {};

            paperInput.labelColor = '#ffa07a';
            paperInput.cursorColor = '#A7FFEB';
            paperInput.focusedColor = '#A7FFEB';
            paperInput.invalidColor = '#ffa07a';



        </script>
    </template>
</polymer-element>